#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>

/ {
	keymap {
		compatible = "zmk,keymap";

		default_layer { // Layer 0
			bindings = <
				&kp TAB     &kp Q  &kp W     &kp E     &kp R  &kp T      &kp Y  &kp U  &kp I      &kp O       &kp P      &kp BSPC
				&kp ESC     &kp A  &kp S     &kp D     &kp F  &kp G      &kp H  &kp J  &kp K      &kp L       &kp SEMI   &kp APOS
				&kp LSHIFT  &kp Z  &kp X     &kp C     &kp V  &kp B      &kp N  &kp M  &kp COMMA  &kp PERIOD  &kp SLASH  &kp ENTER
				&kp LCTRL   &mo 4  &kp LGUI  &kp LALT  &mo 1  &kp SPACE         &mo 2  &kp LEFT   &kp DOWN    &kp UP     &kp RIGHT
			>;
		};

		lower_layer { // Layer 1
			bindings = <
				&kp TILDE  &kp EXCL  &kp AT  &kp HASH  &kp DLLR  &kp PRCNT  &kp CARET  &kp AMPS   &kp STAR  &kp LPAR   &kp RPAR   &trans
				&trans     &kp F1    &kp F2  &kp F3    &kp F4    &kp F5     &kp F6     &kp UNDER  &kp PLUS  &kp LBRC   &kp RBRC   &kp PIPE
				&trans     &kp F7    &kp F8  &kp F9    &kp F10   &kp F11    &kp F12    &trans     &trans    &trans     &trans     &trans
				&trans     &trans    &trans  &trans    &trans    &trans                &trans     &kp HOME  &kp PG_DN  &kp PG_UP  &kp END
			>;
		};

		raise_layer { // Layer 2
			bindings = <
				&kp GRAVE  &kp N1  &kp N2  &kp N3  &kp N4   &kp N5   &kp N6   &kp N7     &kp N8     &kp N9     &kp N0     &trans
				&trans     &trans  &trans  &trans  &trans   &trans   &trans   &kp MINUS  &kp EQUAL  &kp LBKT   &kp RBKT   &kp BSLH
				&trans     &trans  &trans  &trans  &trans   &trans   &trans   &trans     &trans     &trans     &trans     &trans
				&trans     &trans  &trans  &trans  &trans   &trans   &trans              &kp HOME   &kp PG_DN  &kp PG_UP  &kp END
			>;
		};

		adjust_layer { // Layer 3
			bindings = <
				&kp LC(GRAVE)  &kp LC(N1)  &kp LC(N2)  &kp LC(N3)  &kp LC(N4)  &kp LC(N5)  &kp LC(N6)  &kp LC(N7)  &kp LC(N8)  &kp LC(N9)     &kp LC(N0)     &kp DEL
				&trans         &kp LG(N1)  &kp LG(N2)  &kp LG(N3)  &kp LG(N4)  &kp LG(N5)  &trans      &trans      &trans      &kp LC(MINUS)  &kp LC(EQUAL)  &trans
				&trans         &trans      &trans      &trans      &trans      &trans      &trans      &trans      &trans      &trans         &trans         &trans
				&trans         &trans      &trans      &trans      &trans      &trans                  &trans      &trans      &trans         &trans         &trans
			>;
		};

		fn_layer { // Layer 4
			bindings = <
				&trans   &trans      &trans      &trans        &trans  &trans  &trans  &trans  &kp KP_N7  &kp KP_N8  &kp KP_N9   &trans
				&trans   &kp C_PP    &kp C_MUTE  &kp C_VOL_UP  &trans  &trans  &trans  &trans  &kp KP_N4  &kp KP_N5  &kp KP_N6   &kp KP_NUMLOCK
				&kp F15  &kp C_PREV  &kp C_NEXT  &kp C_VOL_DN  &trans  &trans  &trans  &trans  &kp KP_N1  &kp KP_N2  &kp KP_N3   &kp KP_ENTER
				&trans   &trans      &trans      &trans        &trans  &trans          &trans  &kp KP_N0  &trans     &kp KP_DOT  &kp KP_ENTER
			>
		}
	};

	conditional_layers {
		compatible = "zmk,conditional-layers";
		tri_layer {
			if-layers = <1 2>;
			then-layer = <3>;
		};
	};
};
